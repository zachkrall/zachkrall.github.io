"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _striptags = require("striptags");

var _striptags2 = _interopRequireDefault(_striptags);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var render = function render(item) {
  if (!item) {
    return "";
  }

  if (typeof item === "string") {
    return item;
  }

  var children = item.c;


  return Array.isArray(children) ? children.map(function (child) {
    return render(child);
  }).join("") : render(children);
}; /* eslint-disable react/no-multi-comp */
// because it considers render() as a react compo
/* eslint-disable react/no-unused-prop-types */
// because it's a bit dumb

var textRenderer = function textRenderer(tree) {
  if (typeof tree === "undefined") {
    console.error("@phenomic/plugin-renderer-react: textRenderer expects at least a child");
    return "";
  }

  if (typeof tree === "string") {
    return (0, _striptags2.default)(tree);
  }

  return render(tree);
};

exports.default = textRenderer;